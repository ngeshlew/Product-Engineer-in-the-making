#!/usr/bin/env bash
set -euo pipefail

SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
# shellcheck source=/dev/null
. "$SCRIPT_DIR/commands/core.sh"
# shellcheck source=/dev/null
. "$SCRIPT_DIR/commands/plugins.sh"

cc_plugins_load || true

case "${1:-help}" in
  init) cc_init ;;
  plan) cc_plan ;;
  execute) cc_execute ;;
  review) cc_review ;;
  commit) cc_commit ;;
  research) cc_research ;;
  innovate) cc_innovate ;;
  list)
    echo "Core: init, plan, execute, review, commit, research, innovate"
    echo "Plugins:"
    cc_plugins_list
    ;;
  help|*) cc_help ;;
esac