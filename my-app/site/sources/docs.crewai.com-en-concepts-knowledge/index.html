
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Internal learning site for AI, LLMs, and a Rivet chatbot capstone">
      
      
      
        <link rel="canonical" href="https://ngeshlew.github.io/Product-Engineer-in-the-making/sources/docs.crewai.com-en-concepts-knowledge/">
      
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.18">
    
    
      
        <title>docs.crewai.com-en-concepts-knowledge - AI Product Engineer Course</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.66ac8b77.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/css/progress.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#docscrewaicom-en-concepts-knowledge" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="AI Product Engineer Course" class="md-header__button md-logo" aria-label="AI Product Engineer Course" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            AI Product Engineer Course
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              docs.crewai.com-en-concepts-knowledge
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="AI Product Engineer Course" class="md-nav__button md-logo" aria-label="AI Product Engineer Course" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    AI Product Engineer Course
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Modules
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Modules
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/foundations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Foundations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/transformers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Transformers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/token-context/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tokenization & Context
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/prompting-structured-outputs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Prompting & Structured Outputs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/streaming-ux/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Streaming UX
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/multimodality/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Multimodality
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/memory-state/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Memory & State
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/rag/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Retrieval (RAG)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/agents-orchestration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Agents & Orchestration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/safety-security/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Safety & Security
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/evaluation-observability/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Evaluation & Observability
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/cost-latency/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cost & Latency
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/productization-mlops/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Productization & MLOps
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/ai-ux-behavior/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AI UX & Behavior
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/collaboration-with-engineers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Collaboration with Engineers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/ecosystem-deep-dives/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ecosystem Deep Dives
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Perspectives
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Perspectives
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../perspectives/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../perspectives/llm-fundamentals/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LLM Fundamentals
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Sources
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Sources
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Capstone (Rivet Bot)
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Capstone (Rivet Bot)
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../capstone/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../capstone/rag/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RAG & Knowledge
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../capstone/rivet/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rivet Flows
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../capstone/evaluation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Evaluation & Observability
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../capstone/safety/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Safety & Privacy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../capstone/demo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Demo
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Competitors
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Competitors
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../competitors/fin-intercom/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Intercom Fin
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../competitors/yellow-ai/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Yellow.ai
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../news/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    News
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../glossary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Glossary
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../progress/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Progress
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../search/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Search
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="docscrewaicom-en-concepts-knowledge">docs.crewai.com-en-concepts-knowledge<a class="headerlink" href="#docscrewaicom-en-concepts-knowledge" title="Permanent link">&para;</a></h1>
<blockquote>
<p>Synthesis: TODO</p>
</blockquote>
<p>What is knowledge in CrewAI and how to use it.
knowledge directory at the root of your project.
Also, use relative paths from the
knowledge directory when creating the source.
from crewai import Agent, Task, Crew, Process, LLM
from crewai.knowledge.source.string_knowledge_source import StringKnowledgeSource</p>
<h1 id="create-a-knowledge-source">Create a knowledge source<a class="headerlink" href="#create-a-knowledge-source" title="Permanent link">&para;</a></h1>
<p>content = "Users name is John. He is 30 years old and lives in San Francisco."
string_source = StringKnowledgeSource(content=content)</p>
<h1 id="create-an-llm-with-a-temperature-of-0-to-ensure-deterministic-outputs">Create an LLM with a temperature of 0 to ensure deterministic outputs<a class="headerlink" href="#create-an-llm-with-a-temperature-of-0-to-ensure-deterministic-outputs" title="Permanent link">&para;</a></h1>
<p>llm = LLM(model="gpt-4o-mini", temperature=0)</p>
<h1 id="create-an-agent-with-the-knowledge-store">Create an agent with the knowledge store<a class="headerlink" href="#create-an-agent-with-the-knowledge-store" title="Permanent link">&para;</a></h1>
<p>agent = Agent(
role="About User",
goal="You know everything about the user.",
backstory="You are a master at understanding people and their preferences.",
verbose=True,
allow_delegation=False,
llm=llm,
)
task = Task(
description="Answer the following questions about the user: {question}",
expected_output="An answer to the question.",
agent=agent,
)
crew = Crew(
agents=[agent],
tasks=[task],
verbose=True,
process=Process.sequential,
knowledge_sources=[string_source], # Enable knowledge by adding the sources here
)
result = crew.kickoff(inputs={"question": "What city does John live in and how old is he?"})
docling for the following example to work:
uv add docling
from crewai import LLM, Agent, Crew, Process, Task
from crewai.knowledge.source.crew_docling_source import CrewDoclingSource</p>
<h1 id="create-a-knowledge-source-from-web-content">Create a knowledge source from web content<a class="headerlink" href="#create-a-knowledge-source-from-web-content" title="Permanent link">&para;</a></h1>
<p>content_source = CrewDoclingSource(
file_paths=[
"https://lilianweng.github.io/posts/2024-11-28-reward-hacking",
"https://lilianweng.github.io/posts/2024-07-07-hallucination",
],
)</p>
<h1 id="create-an-llm-with-a-temperature-of-0-to-ensure-deterministic-outputs_1">Create an LLM with a temperature of 0 to ensure deterministic outputs<a class="headerlink" href="#create-an-llm-with-a-temperature-of-0-to-ensure-deterministic-outputs_1" title="Permanent link">&para;</a></h1>
<p>llm = LLM(model="gpt-4o-mini", temperature=0)</p>
<h1 id="create-an-agent-with-the-knowledge-store_1">Create an agent with the knowledge store<a class="headerlink" href="#create-an-agent-with-the-knowledge-store_1" title="Permanent link">&para;</a></h1>
<p>agent = Agent(
role="About papers",
goal="You know everything about the papers.",
backstory="You are a master at understanding papers and their content.",
verbose=True,
allow_delegation=False,
llm=llm,
)
task = Task(
description="Answer the following questions about the papers: {question}",
expected_output="An answer to the question.",
agent=agent,
)
crew = Crew(
agents=[agent],
tasks=[task],
verbose=True,
process=Process.sequential,
knowledge_sources=[content_source],
)
result = crew.kickoff(
inputs={"question": "What is the reward hacking paper about? Be sure to provide sources."}
)
from crewai.knowledge.source.text_file_knowledge_source import TextFileKnowledgeSource
text_source = TextFileKnowledgeSource(
file_paths=["document.txt", "another.txt"]
)
from crewai.knowledge.source.pdf_knowledge_source import PDFKnowledgeSource
pdf_source = PDFKnowledgeSource(
file_paths=["document.pdf", "another.pdf"]
)
from crewai.knowledge.source.csv_knowledge_source import CSVKnowledgeSource
csv_source = CSVKnowledgeSource(
file_paths=["data.csv"]
)
from crewai.knowledge.source.excel_knowledge_source import ExcelKnowledgeSource
excel_source = ExcelKnowledgeSource(
file_paths=["spreadsheet.xlsx"]
)
from crewai.knowledge.source.json_knowledge_source import JSONKnowledgeSource
json_source = JSONKnowledgeSource(
file_paths=["data.json"]
)
from crewai import Agent, Task, Crew
from crewai.knowledge.source.string_knowledge_source import StringKnowledgeSource</p>
<h1 id="agent-with-its-own-knowledge-no-crew-knowledge-needed">Agent with its own knowledge - NO crew knowledge needed<a class="headerlink" href="#agent-with-its-own-knowledge-no-crew-knowledge-needed" title="Permanent link">&para;</a></h1>
<p>specialist_knowledge = StringKnowledgeSource(
content="Specialized technical information for this agent only"
)
specialist_agent = Agent(
role="Technical Specialist",
goal="Provide technical expertise",
backstory="Expert in specialized technical domains",
knowledge_sources=[specialist_knowledge] # Agent-specific knowledge
)
task = Task(
description="Answer technical questions",
agent=specialist_agent,
expected_output="Technical answer"
)</p>
<h1 id="no-crew-level-knowledge-required">No crew-level knowledge required<a class="headerlink" href="#no-crew-level-knowledge-required" title="Permanent link">&para;</a></h1>
<p>crew = Crew(
agents=[specialist_agent],
tasks=[task]
)
result = crew.kickoff() # Agent knowledge works independently
crew.kickoff()
crew.kickoff(), here‚Äôs the exact sequence:</p>
<h1 id="during-kickoff">During kickoff<a class="headerlink" href="#during-kickoff" title="Permanent link">&para;</a></h1>
<p>for agent in self.agents:
agent.crew = self # Agent gets reference to crew
agent.set_knowledge(crew_embedder=self.embedder) # Agent knowledge initialized
agent.create_agent_executor()</p>
<h1 id="agent-knowledge-storage">Agent knowledge storage<a class="headerlink" href="#agent-knowledge-storage" title="Permanent link">&para;</a></h1>
<p>agent_collection_name = agent.role # e.g., "Technical Specialist"</p>
<h1 id="crew-knowledge-storage">Crew knowledge storage<a class="headerlink" href="#crew-knowledge-storage" title="Permanent link">&para;</a></h1>
<p>crew_collection_name = "crew"</p>
<h1 id="both-stored-in-same-chromadb-instance-but-different-collections">Both stored in same ChromaDB instance but different collections<a class="headerlink" href="#both-stored-in-same-chromadb-instance-but-different-collections" title="Permanent link">&para;</a></h1>
<h1 id="path-localsharecrewaiprojectknowledge">Path: ~/.local/share/CrewAI/{project}/knowledge/<a class="headerlink" href="#path-localsharecrewaiprojectknowledge" title="Permanent link">&para;</a></h1>
<h1 id="crew-crew-knowledge-collection">‚îú‚îÄ‚îÄ crew/ # Crew knowledge collection<a class="headerlink" href="#crew-crew-knowledge-collection" title="Permanent link">&para;</a></h1>
<h1 id="technical-specialist-agent-knowledge-collection">‚îú‚îÄ‚îÄ Technical Specialist/ # Agent knowledge collection<a class="headerlink" href="#technical-specialist-agent-knowledge-collection" title="Permanent link">&para;</a></h1>
<h1 id="another-agent-role-another-agents-collection">‚îî‚îÄ‚îÄ Another Agent Role/ # Another agent's collection<a class="headerlink" href="#another-agent-role-another-agents-collection" title="Permanent link">&para;</a></h1>
<p>from crewai import Agent, Task, Crew
from crewai.knowledge.source.string_knowledge_source import StringKnowledgeSource</p>
<h1 id="agent-specific-knowledge">Agent-specific knowledge<a class="headerlink" href="#agent-specific-knowledge" title="Permanent link">&para;</a></h1>
<p>agent_knowledge = StringKnowledgeSource(
content="Agent-specific information that only this agent needs"
)
agent = Agent(
role="Specialist",
goal="Use specialized knowledge",
backstory="Expert with specific knowledge",
knowledge_sources=[agent_knowledge],
embedder={ # Agent can have its own embedder
"provider": "openai",
"config": {"model": "text-embedding-3-small"}
}
)
task = Task(
description="Answer using your specialized knowledge",
agent=agent,
expected_output="Answer based on agent knowledge"
)</p>
<h1 id="no-crew-knowledge-needed">No crew knowledge needed<a class="headerlink" href="#no-crew-knowledge-needed" title="Permanent link">&para;</a></h1>
<p>crew = Crew(agents=[agent], tasks=[task])
result = crew.kickoff() # Works perfectly</p>
<h1 id="crew-wide-knowledge-shared-by-all-agents">Crew-wide knowledge (shared by all agents)<a class="headerlink" href="#crew-wide-knowledge-shared-by-all-agents" title="Permanent link">&para;</a></h1>
<p>crew_knowledge = StringKnowledgeSource(
content="Company policies and general information for all agents"
)</p>
<h1 id="agent-specific-knowledge_1">Agent-specific knowledge<a class="headerlink" href="#agent-specific-knowledge_1" title="Permanent link">&para;</a></h1>
<p>specialist_knowledge = StringKnowledgeSource(
content="Technical specifications only the specialist needs"
)
specialist = Agent(
role="Technical Specialist",
goal="Provide technical expertise",
backstory="Technical expert",
knowledge_sources=[specialist_knowledge] # Agent-specific
)
generalist = Agent(
role="General Assistant",
goal="Provide general assistance",
backstory="General helper"</p>
<h1 id="no-agent-specific-knowledge">No agent-specific knowledge<a class="headerlink" href="#no-agent-specific-knowledge" title="Permanent link">&para;</a></h1>
<p>)
crew = Crew(
agents=[specialist, generalist],
tasks=[...],
knowledge_sources=[crew_knowledge] # Crew-wide knowledge
)</p>
<h1 id="result">Result:<a class="headerlink" href="#result" title="Permanent link">&para;</a></h1>
<h1 id="-specialist-gets-crew_knowledge-specialist_knowledge">- specialist gets: crew_knowledge + specialist_knowledge<a class="headerlink" href="#-specialist-gets-crew_knowledge-specialist_knowledge" title="Permanent link">&para;</a></h1>
<h1 id="-generalist-gets-crew_knowledge-only">- generalist gets: crew_knowledge only<a class="headerlink" href="#-generalist-gets-crew_knowledge-only" title="Permanent link">&para;</a></h1>
<h1 id="different-knowledge-for-different-agents">Different knowledge for different agents<a class="headerlink" href="#different-knowledge-for-different-agents" title="Permanent link">&para;</a></h1>
<p>sales_knowledge = StringKnowledgeSource(content="Sales procedures and pricing")
tech_knowledge = StringKnowledgeSource(content="Technical documentation")
support_knowledge = StringKnowledgeSource(content="Support procedures")
sales_agent = Agent(
role="Sales Representative",
knowledge_sources=[sales_knowledge],
embedder={"provider": "openai", "config": {"model": "text-embedding-3-small"}}
)
tech_agent = Agent(
role="Technical Expert",
knowledge_sources=[tech_knowledge],
embedder={"provider": "ollama", "config": {"model": "mxbai-embed-large"}}
)
support_agent = Agent(
role="Support Specialist",
knowledge_sources=[support_knowledge]</p>
<h1 id="will-use-crew-embedder-as-fallback">Will use crew embedder as fallback<a class="headerlink" href="#will-use-crew-embedder-as-fallback" title="Permanent link">&para;</a></h1>
<p>)
crew = Crew(
agents=[sales_agent, tech_agent, support_agent],
tasks=[...],
embedder={ # Fallback embedder for agents without their own
"provider": "google",
"config": {"model": "text-embedding-004"}
}
)</p>
<h1 id="each-agent-gets-only-their-specific-knowledge">Each agent gets only their specific knowledge<a class="headerlink" href="#each-agent-gets-only-their-specific-knowledge" title="Permanent link">&para;</a></h1>
<h1 id="each-can-use-different-embedding-providers">Each can use different embedding providers<a class="headerlink" href="#each-can-use-different-embedding-providers" title="Permanent link">&para;</a></h1>
<p>from crewai.knowledge.knowledge_config import KnowledgeConfig
knowledge_config = KnowledgeConfig(results_limit=10, score_threshold=0.5)
agent = Agent(
...
knowledge_config=knowledge_config
)
results_limit: is the number of relevant documents to return. Default is 3.
score_threshold: is the minimum score for a document to be considered relevant. Default is 0.35.
~/Library/Application Support/CrewAI/{project_name}/
‚îî‚îÄ‚îÄ knowledge/ # Knowledge ChromaDB files
‚îú‚îÄ‚îÄ chroma.sqlite3 # ChromaDB metadata
‚îú‚îÄ‚îÄ {collection_id}/ # Vector embeddings
‚îî‚îÄ‚îÄ knowledge_{collection}/ # Named collections
~/.local/share/CrewAI/{project_name}/
‚îî‚îÄ‚îÄ knowledge/
‚îú‚îÄ‚îÄ chroma.sqlite3
‚îú‚îÄ‚îÄ {collection_id}/
‚îî‚îÄ‚îÄ knowledge_{collection}/
C:\Users{username}\AppData\Local\CrewAI{project_name}\
‚îî‚îÄ‚îÄ knowledge\
‚îú‚îÄ‚îÄ chroma.sqlite3
‚îú‚îÄ‚îÄ {collection_id}\
‚îî‚îÄ‚îÄ knowledge_{collection}\
from crewai.utilities.paths import db_storage_path
import os</p>
<h1 id="get-the-knowledge-storage-path">Get the knowledge storage path<a class="headerlink" href="#get-the-knowledge-storage-path" title="Permanent link">&para;</a></h1>
<p>knowledge_path = os.path.join(db_storage_path(), "knowledge")
print(f"Knowledge storage location: {knowledge_path}")</p>
<h1 id="list-knowledge-collections-and-files">List knowledge collections and files<a class="headerlink" href="#list-knowledge-collections-and-files" title="Permanent link">&para;</a></h1>
<p>if os.path.exists(knowledge_path):
print("\nKnowledge storage contents:")
for item in os.listdir(knowledge_path):
item_path = os.path.join(knowledge_path, item)
if os.path.isdir(item_path):
print(f"üìÅ Collection: {item}/")</p>
<h1 id="show-collection-contents">Show collection contents<a class="headerlink" href="#show-collection-contents" title="Permanent link">&para;</a></h1>
<p>try:
for subitem in os.listdir(item_path):
print(f" ‚îî‚îÄ‚îÄ {subitem}")
except PermissionError:
print(f" ‚îî‚îÄ‚îÄ (permission denied)")
else:
print(f"üìÑ {item}")
else:
print("No knowledge storage found yet.")
import os
from crewai import Crew</p>
<h1 id="set-custom-storage-location-for-all-crewai-data">Set custom storage location for all CrewAI data<a class="headerlink" href="#set-custom-storage-location-for-all-crewai-data" title="Permanent link">&para;</a></h1>
<p>os.environ["CREWAI_STORAGE_DIR"] = "./my_project_storage"</p>
<h1 id="all-knowledge-will-now-be-stored-in-my_project_storageknowledge">All knowledge will now be stored in ./my_project_storage/knowledge/<a class="headerlink" href="#all-knowledge-will-now-be-stored-in-my_project_storageknowledge" title="Permanent link">&para;</a></h1>
<p>crew = Crew(
agents=[...],
tasks=[...],
knowledge_sources=[...]
)
from crewai.knowledge.storage.knowledge_storage import KnowledgeStorage
from crewai.knowledge.source.string_knowledge_source import StringKnowledgeSource</p>
<h1 id="create-custom-storage-with-specific-embedder">Create custom storage with specific embedder<a class="headerlink" href="#create-custom-storage-with-specific-embedder" title="Permanent link">&para;</a></h1>
<p>custom_storage = KnowledgeStorage(
embedder={
"provider": "ollama",
"config": {"model": "mxbai-embed-large"}
},
collection_name="my_custom_knowledge"
)</p>
<h1 id="use-with-knowledge-sources">Use with knowledge sources<a class="headerlink" href="#use-with-knowledge-sources" title="Permanent link">&para;</a></h1>
<p>knowledge_source = StringKnowledgeSource(
content="Your knowledge content here"
)
knowledge_source.storage = custom_storage
import os
from pathlib import Path</p>
<h1 id="store-knowledge-in-project-directory">Store knowledge in project directory<a class="headerlink" href="#store-knowledge-in-project-directory" title="Permanent link">&para;</a></h1>
<p>project_root = Path(<strong>file</strong>).parent
knowledge_dir = project_root / "knowledge_storage"
os.environ["CREWAI_STORAGE_DIR"] = str(knowledge_dir)</p>
<h1 id="now-all-knowledge-will-be-stored-in-your-project-directory">Now all knowledge will be stored in your project directory<a class="headerlink" href="#now-all-knowledge-will-be-stored-in-your-project-directory" title="Permanent link">&para;</a></h1>
<p>text-embedding-3-small) for knowledge storage, even when using different LLM providers. You can easily customize this to match your setup.
from crewai import Agent, Crew, LLM
from crewai.knowledge.source.string_knowledge_source import StringKnowledgeSource</p>
<h1 id="when-using-claude-as-your-llm">When using Claude as your LLM...<a class="headerlink" href="#when-using-claude-as-your-llm" title="Permanent link">&para;</a></h1>
<p>agent = Agent(
role="Researcher",
goal="Research topics",
backstory="Expert researcher",
llm=LLM(provider="anthropic", model="claude-3-sonnet") # Using Claude
)</p>
<h1 id="crewai-will-still-use-openai-embeddings-by-default-for-knowledge">CrewAI will still use OpenAI embeddings by default for knowledge<a class="headerlink" href="#crewai-will-still-use-openai-embeddings-by-default-for-knowledge" title="Permanent link">&para;</a></h1>
<h1 id="this-ensures-consistency-but-may-not-match-your-llm-provider-preference">This ensures consistency but may not match your LLM provider preference<a class="headerlink" href="#this-ensures-consistency-but-may-not-match-your-llm-provider-preference" title="Permanent link">&para;</a></h1>
<p>knowledge_source = StringKnowledgeSource(content="Research data...")
crew = Crew(
agents=[agent],
tasks=[...],
knowledge_sources=[knowledge_source]</p>
<h1 id="default-uses-openai-embeddings-even-with-claude-llm">Default: Uses OpenAI embeddings even with Claude LLM<a class="headerlink" href="#default-uses-openai-embeddings-even-with-claude-llm" title="Permanent link">&para;</a></h1>
<p>)</p>
<h1 id="option-1-use-voyage-ai-recommended-by-anthropic-for-claude-users">Option 1: Use Voyage AI (recommended by Anthropic for Claude users)<a class="headerlink" href="#option-1-use-voyage-ai-recommended-by-anthropic-for-claude-users" title="Permanent link">&para;</a></h1>
<p>crew = Crew(
agents=[agent],
tasks=[...],
knowledge_sources=[knowledge_source],
embedder={
"provider": "voyageai", # Recommended for Claude users
"config": {
"api_key": "your-voyage-api-key",
"model": "voyage-3" # or "voyage-3-large" for best quality
}
}
)</p>
<h1 id="option-2-use-local-embeddings-no-external-api-calls">Option 2: Use local embeddings (no external API calls)<a class="headerlink" href="#option-2-use-local-embeddings-no-external-api-calls" title="Permanent link">&para;</a></h1>
<p>crew = Crew(
agents=[agent],
tasks=[...],
knowledge_sources=[knowledge_source],
embedder={
"provider": "ollama",
"config": {
"model": "mxbai-embed-large",
"url": "http://localhost:11434/api/embeddings"
}
}
)</p>
<h1 id="option-3-agent-level-embedding-customization">Option 3: Agent-level embedding customization<a class="headerlink" href="#option-3-agent-level-embedding-customization" title="Permanent link">&para;</a></h1>
<p>agent = Agent(
role="Researcher",
goal="Research topics",
backstory="Expert researcher",
knowledge_sources=[knowledge_source],
embedder={
"provider": "google",
"config": {
"model": "models/text-embedding-004",
"api_key": "your-google-key"
}
}
)
agent = Agent(
role="Researcher",
goal="Research topics",
backstory="Expert researcher",
knowledge_sources=[knowledge_source],
embedder={
"provider": "azure",
"config": {
"api_key": "your-azure-api-key",
"model": "text-embedding-ada-002", # change to the model you are using and is deployed in Azure
"api_base": "https://your-azure-endpoint.openai.azure.com/",
"api_version": "2024-02-01"
}
}
)
_get_knowledge_search_query method is triggered</p>
<h1 id="original-task-prompt">Original task prompt<a class="headerlink" href="#original-task-prompt" title="Permanent link">&para;</a></h1>
<p>task_prompt = "Answer the following questions about the user's favorite movies: What movie did John watch last week? Format your answer in JSON."</p>
<h1 id="behind-the-scenes-this-might-be-rewritten-as">Behind the scenes, this might be rewritten as:<a class="headerlink" href="#behind-the-scenes-this-might-be-rewritten-as" title="Permanent link">&para;</a></h1>
<p>rewritten_query = "What movies did John watch last week?"
from crewai.utilities.events import (
KnowledgeRetrievalStartedEvent,
KnowledgeRetrievalCompletedEvent,
)
from crewai.utilities.events.base_event_listener import BaseEventListener
class KnowledgeMonitorListener(BaseEventListener):
def setup_listeners(self, crewai_event_bus):
@crewai_event_bus.on(KnowledgeRetrievalStartedEvent)
def on_knowledge_retrieval_started(source, event):
print(f"Agent '{event.agent.role}' started retrieving knowledge")
@crewai_event_bus.on(KnowledgeRetrievalCompletedEvent)
def on_knowledge_retrieval_completed(source, event):
print(f"Agent '{event.agent.role}' completed knowledge retrieval")
print(f"Query: {event.query}")
print(f"Retrieved {len(event.retrieved_knowledge)} knowledge chunks")</p>
<h1 id="create-an-instance-of-your-listener">Create an instance of your listener<a class="headerlink" href="#create-an-instance-of-your-listener" title="Permanent link">&para;</a></h1>
<p>knowledge_monitor = KnowledgeMonitorListener()
BaseKnowledgeSource class. Let‚Äôs create a practical example that fetches and processes space news articles.
from crewai import Agent, Task, Crew, Process, LLM
from crewai.knowledge.source.base_knowledge_source import BaseKnowledgeSource
import requests
from datetime import datetime
from typing import Dict, Any
from pydantic import BaseModel, Field
class SpaceNewsKnowledgeSource(BaseKnowledgeSource):
"""Knowledge source that fetches data from Space News API."""
api_endpoint: str = Field(description="API endpoint URL")
limit: int = Field(default=10, description="Number of articles to fetch")
def load_content(self) -&gt; Dict[Any, str]:
"""Fetch and format space news articles."""
try:
response = requests.get(
f"{self.api_endpoint}?limit={self.limit}"
)
response.raise_for_status()
data = response.json()
articles = data.get('results', [])
formatted_data = self.validate_content(articles)
return {self.api_endpoint: formatted_data}
except Exception as e:
raise ValueError(f"Failed to fetch space news: {str(e)}")
def validate_content(self, articles: list) -&gt; str:
"""Format articles into readable text."""
formatted = "Space News Articles:\n\n"
for article in articles:
formatted += f"""
Title: {article['title']}
Published: {article['published_at']}
Summary: {article['summary']}
News Site: {article['news_site']}
URL: {article['url']}
-------------------"""
return formatted
def add(self) -&gt; None:
"""Process and store the articles."""
content = self.load_content()
for _, text in content.items():
chunks = self._chunk_text(text)
self.chunks.extend(chunks)
self._save_documents()</p>
<h1 id="create-knowledge-source">Create knowledge source<a class="headerlink" href="#create-knowledge-source" title="Permanent link">&para;</a></h1>
<p>recent_news = SpaceNewsKnowledgeSource(
api_endpoint="https://api.spaceflightnewsapi.net/v4/articles",
limit=10,
)</p>
<h1 id="create-specialized-agent">Create specialized agent<a class="headerlink" href="#create-specialized-agent" title="Permanent link">&para;</a></h1>
<p>space_analyst = Agent(
role="Space News Analyst",
goal="Answer questions about space news accurately and comprehensively",
backstory="""You are a space industry analyst with expertise in space exploration,
satellite technology, and space industry trends. You excel at answering questions
about space news and providing detailed, accurate information.""",
knowledge_sources=[recent_news],
llm=LLM(model="gpt-4", temperature=0.0)
)</p>
<h1 id="create-task-that-handles-user-questions">Create task that handles user questions<a class="headerlink" href="#create-task-that-handles-user-questions" title="Permanent link">&para;</a></h1>
<p>analysis_task = Task(
description="Answer this question about space news: {user_question}",
expected_output="A detailed answer based on the recent space news articles",
agent=space_analyst
)</p>
<h1 id="create-and-run-the-crew">Create and run the crew<a class="headerlink" href="#create-and-run-the-crew" title="Permanent link">&para;</a></h1>
<p>crew = Crew(
agents=[space_analyst],
tasks=[analysis_task],
verbose=True,
process=Process.sequential
)</p>
<h1 id="example-usage">Example usage<a class="headerlink" href="#example-usage" title="Permanent link">&para;</a></h1>
<p>result = crew.kickoff(
inputs={"user_question": "What are the latest developments in space exploration?"}
)
from crewai import Agent, Crew, Task
from crewai.knowledge.source.string_knowledge_source import StringKnowledgeSource
knowledge_source = StringKnowledgeSource(content="Test knowledge")
agent = Agent(
role="Test Agent",
goal="Test knowledge",
backstory="Testing",
knowledge_sources=[knowledge_source]
)
crew = Crew(agents=[agent], tasks=[Task(...)])</p>
<h1 id="before-kickoff-knowledge-not-initialized">Before kickoff - knowledge not initialized<a class="headerlink" href="#before-kickoff-knowledge-not-initialized" title="Permanent link">&para;</a></h1>
<p>print(f"Before kickoff - Agent knowledge: {getattr(agent, 'knowledge', None)}")
crew.kickoff()</p>
<h1 id="after-kickoff-knowledge-initialized">After kickoff - knowledge initialized<a class="headerlink" href="#after-kickoff-knowledge-initialized" title="Permanent link">&para;</a></h1>
<p>print(f"After kickoff - Agent knowledge: {agent.knowledge}")
print(f"Agent knowledge collection: {agent.knowledge.storage.collection_name}")
print(f"Number of sources: {len(agent.knowledge.sources)}")
import os
from crewai.utilities.paths import db_storage_path</p>
<h1 id="check-storage-structure">Check storage structure<a class="headerlink" href="#check-storage-structure" title="Permanent link">&para;</a></h1>
<p>storage_path = db_storage_path()
knowledge_path = os.path.join(storage_path, "knowledge")
if os.path.exists(knowledge_path):
print("Knowledge collections found:")
for collection in os.listdir(knowledge_path):
collection_path = os.path.join(knowledge_path, collection)
if os.path.isdir(collection_path):
print(f" - {collection}/")</p>
<h1 id="show-collection-contents_1">Show collection contents<a class="headerlink" href="#show-collection-contents_1" title="Permanent link">&para;</a></h1>
<p>for item in os.listdir(collection_path):
print(f" ‚îî‚îÄ‚îÄ {item}")</p>
<h1 id="test-agent-knowledge-retrieval">Test agent knowledge retrieval<a class="headerlink" href="#test-agent-knowledge-retrieval" title="Permanent link">&para;</a></h1>
<p>if hasattr(agent, 'knowledge') and agent.knowledge:
test_query = ["test query"]
results = agent.knowledge.query(test_query)
print(f"Agent knowledge results: {len(results)} documents found")</p>
<h1 id="test-crew-knowledge-retrieval-if-exists">Test crew knowledge retrieval (if exists)<a class="headerlink" href="#test-crew-knowledge-retrieval-if-exists" title="Permanent link">&para;</a></h1>
<p>if hasattr(crew, 'knowledge') and crew.knowledge:
crew_results = crew.query_knowledge(test_query)
print(f"Crew knowledge results: {len(crew_results)} documents found")
import chromadb
from crewai.utilities.paths import db_storage_path
import os</p>
<h1 id="connect-to-crewais-knowledge-chromadb">Connect to CrewAI's knowledge ChromaDB<a class="headerlink" href="#connect-to-crewais-knowledge-chromadb" title="Permanent link">&para;</a></h1>
<p>knowledge_path = os.path.join(db_storage_path(), "knowledge")
if os.path.exists(knowledge_path):
client = chromadb.PersistentClient(path=knowledge_path)
collections = client.list_collections()
print("Knowledge Collections:")
for collection in collections:
print(f" - {collection.name}: {collection.count()} documents")</p>
<h1 id="sample-a-few-documents-to-verify-content">Sample a few documents to verify content<a class="headerlink" href="#sample-a-few-documents-to-verify-content" title="Permanent link">&para;</a></h1>
<p>if collection.count() &gt; 0:
sample = collection.peek(limit=2)
print(f" Sample content: {sample['documents'][0][:100]}...")
else:
print("No knowledge storage found")
from crewai.knowledge.source.string_knowledge_source import StringKnowledgeSource</p>
<h1 id="create-a-test-knowledge-source">Create a test knowledge source<a class="headerlink" href="#create-a-test-knowledge-source" title="Permanent link">&para;</a></h1>
<p>test_source = StringKnowledgeSource(
content="Test knowledge content for debugging",
chunk_size=100, # Small chunks for testing
chunk_overlap=20
)</p>
<h1 id="check-chunking-behavior">Check chunking behavior<a class="headerlink" href="#check-chunking-behavior" title="Permanent link">&para;</a></h1>
<p>print(f"Original content length: {len(test_source.content)}")
print(f"Chunk size: {test_source.chunk_size}")
print(f"Chunk overlap: {test_source.chunk_overlap}")</p>
<h1 id="process-and-inspect-chunks">Process and inspect chunks<a class="headerlink" href="#process-and-inspect-chunks" title="Permanent link">&para;</a></h1>
<p>test_source.add()
print(f"Number of chunks created: {len(test_source.chunks)}")
for i, chunk in enumerate(test_source.chunks[:3]): # Show first 3 chunks
print(f"Chunk {i+1}: {chunk[:50]}...")</p>
<h1 id="ensure-files-are-in-the-correct-location">Ensure files are in the correct location<a class="headerlink" href="#ensure-files-are-in-the-correct-location" title="Permanent link">&para;</a></h1>
<p>from crewai.utilities.constants import KNOWLEDGE_DIRECTORY
import os
knowledge_dir = KNOWLEDGE_DIRECTORY # Usually "knowledge"
file_path = os.path.join(knowledge_dir, "your_file.pdf")
if not os.path.exists(file_path):
print(f"File not found: {file_path}")
print(f"Current working directory: {os.getcwd()}")
print(f"Expected knowledge directory: {os.path.abspath(knowledge_dir)}")</p>
<h1 id="this-happens-when-switching-embedding-providers">This happens when switching embedding providers<a class="headerlink" href="#this-happens-when-switching-embedding-providers" title="Permanent link">&para;</a></h1>
<h1 id="reset-knowledge-storage-to-clear-old-embeddings">Reset knowledge storage to clear old embeddings<a class="headerlink" href="#reset-knowledge-storage-to-clear-old-embeddings" title="Permanent link">&para;</a></h1>
<p>crew.reset_memories(command_type='knowledge')</p>
<h1 id="or-use-consistent-embedding-providers">Or use consistent embedding providers<a class="headerlink" href="#or-use-consistent-embedding-providers" title="Permanent link">&para;</a></h1>
<p>crew = Crew(
agents=[...],
tasks=[...],
knowledge_sources=[...],
embedder={"provider": "openai", "config": {"model": "text-embedding-3-small"}}
)</p>
<h1 id="fix-storage-permissions">Fix storage permissions<a class="headerlink" href="#fix-storage-permissions" title="Permanent link">&para;</a></h1>
<p>chmod -R 755 ~/.local/share/CrewAI/</p>
<h1 id="verify-storage-location-consistency">Verify storage location consistency<a class="headerlink" href="#verify-storage-location-consistency" title="Permanent link">&para;</a></h1>
<p>import os
from crewai.utilities.paths import db_storage_path
print("CREWAI_STORAGE_DIR:", os.getenv("CREWAI_STORAGE_DIR"))
print("Computed storage path:", db_storage_path())
print("Knowledge path:", os.path.join(db_storage_path(), "knowledge"))</p>
<h1 id="reset-only-agent-specific-knowledge">Reset only agent-specific knowledge<a class="headerlink" href="#reset-only-agent-specific-knowledge" title="Permanent link">&para;</a></h1>
<p>crew.reset_memories(command_type='agent_knowledge')</p>
<h1 id="reset-both-crew-and-agent-knowledge">Reset both crew and agent knowledge<a class="headerlink" href="#reset-both-crew-and-agent-knowledge" title="Permanent link">&para;</a></h1>
<p>crew.reset_memories(command_type='knowledge')</p>
<h1 id="cli-commands">CLI commands<a class="headerlink" href="#cli-commands" title="Permanent link">&para;</a></h1>
<h1 id="crewai-reset-memories-agent-knowledge-agent-knowledge-only">crewai reset-memories --agent-knowledge # Agent knowledge only<a class="headerlink" href="#crewai-reset-memories-agent-knowledge-agent-knowledge-only" title="Permanent link">&para;</a></h1>
<h1 id="crewai-reset-memories-knowledge-all-knowledge">crewai reset-memories --knowledge # All knowledge<a class="headerlink" href="#crewai-reset-memories-knowledge-all-knowledge" title="Permanent link">&para;</a></h1>
<p>crewai reset-memories command with the
--knowledge option.
crewai reset-memories --knowledge
Content Organization
Performance Tips
One Time Knowledge
Knowledge Management
Production Best Practices
CREWAI_STORAGE_DIR to a known location in production</p>
<p><a class="glightbox" href="../../assets/docs.crewai.com/docs.crewai.com-en-concepts-knowledge/71bc45159c09.webp" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="light logo" src="../../assets/docs.crewai.com/docs.crewai.com-en-concepts-knowledge/71bc45159c09.webp" /></a></p>
<figcaption>Figure 1. Credit: [docs.crewai.com](https://mintlify.s3.us-west-1.amazonaws.com/crewai/images/crew_only_logo.png), License: internal-copy</figcaption>

<p><a class="glightbox" href="../../assets/docs.crewai.com/docs.crewai.com-en-concepts-knowledge/71bc45159c09.webp" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="dark logo" src="../../assets/docs.crewai.com/docs.crewai.com-en-concepts-knowledge/71bc45159c09.webp" /></a></p>
<figcaption>Figure 2. Credit: [docs.crewai.com](https://mintlify.s3.us-west-1.amazonaws.com/crewai/images/crew_only_logo.png), License: internal-copy</figcaption>







  
    
  
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1-2.1-2M12.5 7v5.2l4 2.4-1 1L11 13V7h1.5M11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2v1.8Z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">August 18, 2025</span>
  </span>

    
    
    
    
  </aside>





                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.top", "navigation.sections", "content.code.copy", "toc.integrate"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.3220b9d7.min.js"></script>
      
        <script src="../../assets/js/progress.js"></script>
      
        <script src="../../assets/js/clarity.js"></script>
      
    
  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>